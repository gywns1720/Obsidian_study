
# 쿠버네스트란?
---

> [!NOTE] 목차
> - [개요](#개요)
> - [특징](#특징)

---

## 개요
- **컨테이너화 된 애플리케이션을 효율적**으로 배포 하고 운영하기 위해 설계된 오픈 소스 플랫폼이다.
- 구글의 사내 운영 시스템인 Borg 을 오픈소스로 만든 것이며, 크게 다음과 같은 기능을 제공한다.
	- **배포 계획에 맞춰 애플리케이션을 신속하게 배포할 수 있다.**
		- 컨테이너 개수, CPU 사용율, 메모리 사용량 설정 가능
		- 저장 공간, 네트워크 접근 제어, 로드벨런싱 기능 설정 가능
	- **가동 중인 애플리케이션을 스케일 업/다운 할 수 있다.**
		- 요청이 많을 때는 컨테이너 수를 늘려 처리 능력 향상
		- 요청이 적을 때는 컨테이너 수 줄여 자원 점유율이나 요금 줄임
	- 새로운 버전의 애플리케이션을 무정지로 업그레이드 할 수 있다.
	- 하드웨어 가동률을 높여 자원을 낭비한다.


## 특징
- 다양한 환경에서 쿠버네스트 사용 가능
	- **퍼블릭 클라우드**
		- 고객들 간의 공유 대신 저렴하고 신속하게 운영 가능한 인프라 환경
	- **프라이빗 클라우드**
		- 독점적으로 사용하여 보안을 높일 수 있는 인프라 환경
	- **멀티 클라우드**
		- 여러 퍼블릭 클라우드를 함께 사용한 경우
	- **하이브리드 클라우드**
		- 온프레미스와 퍼블릿 클라우드를 함께 사용한 경우
	- **온프레미스**
		- 자사 설비를 이용해 애플리케이션에 특화된 운영을 하는 경우
- 계속되는 변화를 전체로 설계된 높은 유연성과 확실성
	- MicroService 화된 애플리케이션에 최적화된 실행환경
	- 느슨한 결합에 의한 유연성, 교체 용이성
	- 다양한 스펙의 서버가 존재하는 클러스터 구성 사용 가능
	- 서버 (Node)의 정지, 추가, 제거가 용이
	- 저장소나 로드벨런서의 동적 프로비닝
	- 퍼블릭 클라우드 API 와 연동된 쿠버네스트 조작
- 고가용성과 성능 관리
	- 서버 정지 시 애플리케이션 재배포 자동화
	- 애플리케이션의 이상 종료 시 자동 재가동
	- 필요한 인스턴스의 개수 유지
	- 높은 부하 자동 스케일

## 과제 사용시 해결과제 
### 애플리케이션 빈번 출시
- 정식 운영중인 서비스의 애플리케이션 컨테이너로 무정지로 교체할 수 있다.
- 교체 중 발생하는 프로그램 충돌 및 성능 저하와 프로그램 충돌로 인한 서비스 정지를 막기 위해 컨테이너 교체 정책을 실현할 수 있다. 
### 무정지 서비스
- 쿠버네스트의 자기 회복 기능은 무정지 서비스 운영을 도와준다.
- 응답이 없어진 컨테이너를 재기동하여, 쿠버네스트 클러스터 내에 지정한 수 만큼 컨테이너가 들도록 관리한다.
### 비지니스 상황 규모 조정
- 컨테이너 기술은 애플리케이션과 실행 환경을 하나로 묶어 배포 할 수 있게 한다.
- 쿠버네스트의 여러 노드 위에서 컨테이너가 조화롭게 돌아가도록 한다.

### 외부 서비스와 연동
- 애플리케이션의 서버와 달리 데이터베이스에 대한 컨테이너는 신중하게 접근할 필요가 있다. 
- 컨테이너는 태생적으로 언제든지 시작할 수 있는 일시적인 존재로 상태를 포함하지 않는 것을 전제로 하기 때문이다.

### 개발환경, 운영환경 분리
- 컨테이너의 개발이 완료되어 테스트 까지 끝나면 정식 서비스 때 배포하기 전까지는 이미지를 다시 빌드 하지 않는 것이 좋다.
- 테스트로 검증되지 않은 기능이 포함될 여지가 있기 때문이다.
- 운영 환경에서는 사용하는 엔드포인트나 인증 정보는 테스트 환경과 다르기 마련이다.
	- 예시로 DB 접속 주소나 HTTPS 위한 인증서 등이 다르다.
- 쿠버네스트에서는 클러스터를 여러 개의 가상 환경으로 분할하는 것이 가능하다.
  그리고 각각의 가상환경에 설정 파일, 보안이 필요한 인증서나 비밀번호를 저장할 수 있다.
  컨테이너에서는 이 저장된 정보를 접근할 수 있다. 따라서 이를 활용하면 운영환경을 옮길 때 이미지를 다시 만들 필요는 없다.

그 외에도 많은 과제 환경이 있다.


## 쿠버네스트 아키텍쳐 
![[쿠버네스트아키텍쳐.excalidraw.png]]
